{% extends "base.html" %}
{% block content %}

<section class="card" style="margin-bottom:16px">
  <h1 style="margin:0 0 8px 0;">Bienvenue sur SpellTable QC</h1>
  <p class="hint" style="margin:0">
    Organisation des tournois EDH, en ligne et en boutique. Consultez la liste des tournois, inscrivez-vous,
    et gérez vos feuilles de match.
  </p>

  <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:12px">
    {% if current_user.is_authenticated %}
      <a class="btn" href="{{ url_for('tournaments_list') }}">Voir les tournois</a>
      <a class="btn secondary" href="{{ url_for('dashboard') }}">Mon tableau de bord</a>
      <a class="btn ghost" href="{{ url_for('submissions_pending') }}">Confirmations</a>
    {% else %}
      <a class="btn" href="{{ url_for('tournaments_list') }}">Voir les tournois</a>
      <a class="btn secondary" href="{{ url_for('register') }}">Créer un compte</a>
      <a class="btn ghost" href="{{ url_for('login') }}">Se connecter</a>
    {% endif %}
    <a class="btn ghost" href="{{ url_for('reglements') }}">Règlements</a>
  </div>
</section>

<section class="grid cols-3" style="align-items:start;gap:16px">

  <div class="card">
    <h3>Tournois</h3>
    <p style="margin-top:0">
      Retrouvez tous les tournois actifs et passés. Le classement (leaderboard) est désormais visible
      <strong>dans chaque page de tournoi</strong>.
    </p>
    <a class="btn" href="{{ url_for('tournaments_list') }}">Accéder aux tournois</a>
  </div>

  <div class="card">
    <h3>Règlements & objectifs</h3>
    <p style="margin-top:0">
      Consultez le barème des points et les objectifs (win table, kills, first blood, etc.).
    </p>
    <a class="btn secondary" href="{{ url_for('reglements') }}">Voir les règlements</a>
  </div>

  <div class="card">
    <h3>Confirmations</h3>
    <p style="margin-top:0">
      Après chaque table, soumettez votre feuille et laissez les autres joueurs l’approuver ici.
    </p>
    {% if current_user.is_authenticated %}
      <a class="btn ghost" href="{{ url_for('submissions_pending') }}">Ouvrir mes confirmations</a>
    {% else %}
      <a class="btn ghost" href="{{ url_for('login') }}">Se connecter</a>
    {% endif %}
  </div>

  {% if current_user.is_admin %}
  <div class="card" style="grid-column:1/-1">
    <h3>Espace admin</h3>
    <p style="margin-top:0">Créer/démarrer un tournoi, gérer les inscriptions, consulter les soumissions.</p>
    <a class="btn" href="{{ url_for('admin_home') }}">Aller au panneau d’administration</a>
  </div>
  {% endif %}

</section>

{% endblock %}
